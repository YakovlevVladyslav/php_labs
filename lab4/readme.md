# Lab 4

IA2404 Yakovlev Vladyslav

## Инструкция по запуску проекта

Перейти в папку проекта с файлом index.php

Запустить встроенный сервер PHP:
```
php -S localhost:8000
```

Открыть в браузере:
http://localhost:8000

## Описание лабораторной работы

Лабораторная работа позволяет освоить работу с массивами в PHP, применяя различные операции: создание, добавление, удаление, сортировка и поиск. Закрепить навыки работы с функциями, включая передачу аргументов, возвращаемые значения и анонимные функции.

## Краткая документация



## Ход работы

### Задание 1. Работа с массивами

Разработать систему управления банковскими транзакциями с возможностью:
- добавления новых транзакций;
- удаления транзакций;
- сортировки транзакций по дате или сумме;
- поиска транзакций по описанию.

В начале файла с исходным кодом включить строгую типизацию:

```
<?php

declare(strict_types=1);
```

Создать массив $transactions, содержащий информацию о банковских транзакциях. Каждая транзакция представлена в виде ассоциативного массива с полями:

- id – уникальный идентификатор транзакции;
- date – дата совершения транзакции (YYYY-MM-DD);
- amount – сумма транзакции;
- description – описание назначения платежа;
- merchant – название организации, получившей платеж.

Примечание: для работы с датами можно использовать класс DateTime.

Использовать foreach, чтобы вывести список транзакций в HTML-таблице.

```
<table border="1">
    <thead>
        <tr>
            <th>ID</th>
            <th>Date</th>
            <th>Amount</th>
            <th>Description</th>
            <th>Merchant</th>
        </tr>
    </thead>

    <tbody>
        <?php foreach ($transactions as $transaction): ?>
            <tr>
                <td><?= $transaction['id'] ?></td>
                <td><?= $transaction['date']->format('Y-m-d') ?></td>
                <td><?= number_format($transaction['amount'], 2) ?></td>
                <td><?= htmlspecialchars($transaction['description']) ?></td>
                <td><?= htmlspecialchars($transaction['merchant']) ?></td>
            </tr>
        <?php endforeach; ?>
    </tbody>
</table>
```

Создайте и используйте следующие функции:

Создайте функцию calculateTotalAmount(array $transactions): float, которая вычисляет общую сумму всех транзакций.

```
function calculateTotalAmount(array $transactions): float
{
    $total = 0.0;

    foreach ($transactions as $transaction) {
        $total += $transaction['amount'];
    }

    return $total;
}
```
Выведите сумму всех транзакций в конце таблицы.
```

```

Создайте функцию findTransactionByDescription(string $descriptionPart), которая ищет транзакцию по части описания.
Создайте функцию findTransactionById(int $id), которая ищет транзакцию по идентификатору.
Реализуйте данную функцию с помощью обычного цикла foreach.
Реализуйте данную функцию с помощью функции array_filter (на высшую оценку).
Создайте функцию daysSinceTransaction(string $date): int, которая возвращает количество дней между датой транзакции и текущим днем.
Добавьте в таблицу столбец с количеством дней с момента транзакции.
Создайте функцию addTransaction(int $id, string $date, float $amount, string $description, string $merchant): void для добавления новой транзакции.
Примите во внимание, что массив $transactions должен быть доступен внутри функции как глобальная переменная.
Задание 1.5. Сортировка транзакций
Отсортируйте транзакции по дате с использованием usort().
Отсортируйте транзакции по сумме (по убыванию).



## Контрольные вопросы